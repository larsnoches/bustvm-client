<div class="form-floating mb-3">
  <input
    type="text"
    class="form-control"
    [ngClass]="{
      'form-control': true,
      'is-invalid': !isValid
    }"
    [id]="controlName"
    [name]="controlName"
    [placeholder]="controlPlaceholder"
    autofocus
    autocomplete="off"
    [formControlName]="controlName"
    required
  />
  <ng-container
    *ngIf="
      !isValid;
      then hasErrorsTemplate;
      else withoutErrors
    "
  >
  </ng-container>
</div>

<ng-template #hasErrorsTemplate>
  <ng-container *ngIf="hasRequiredError; else hasErrorsTemplateMinLength">
    <label for="name">{{ requiredMessage }}</label>
  </ng-container>
</ng-template>

<ng-template #hasErrorsTemplateMinLength>
  <ng-container *ngIf="hasMinLengthError; else hasErrorsTemplateMaxLength">
    <label for="name">{{ minlengthMessage }}</label>
  </ng-container>
</ng-template>

<ng-template #hasErrorsTemplateMaxLength>
  <ng-container *ngIf="hasMaxLengthError; else hasErrorsTemplatePattern">
    <label for="name">{{ maxlengthMessage }}</label>
  </ng-container>
</ng-template>

<ng-template #hasErrorsTemplatePattern>
  <ng-container *ngIf="hasPatternError; else withoutErrors">
    <label for="name">{{ patternMessage }}</label>
  </ng-container>
</ng-template>

<ng-template #withoutErrors>
  <label for="name">{{ controlFullLabel }}</label>
</ng-template>
